<!-- templates/components/navigation.html -->
{% if session.user %}
<nav class="nav-bar">
    <div class="nav-links">
        <a href="{{ url_for('index') }}" class="nav-link {% if request.endpoint == 'index' %}active{% endif %}">
            🏠 Accueil
        </a>
        <a href="{{ url_for('dashboard') }}" class="nav-link {% if request.endpoint == 'dashboard' %}active{% endif %}">
            📊 Tableau de bord
        </a>
        <a href="{{ url_for('calendar') }}" class="nav-link {% if request.endpoint == 'calendar' %}active{% endif %}">
            📅 Calendrier
        </a>
        <a href="{{ url_for('lessons_list') }}" class="nav-link {% if request.endpoint == 'lessons_list' %}active{% endif %}">
            📋 Gestion des leçons
        </a>
        <a href="{{ url_for('theory') }}" class="nav-link {% if request.endpoint == 'theory' %}active{% endif %}">
            📊 Ressources théoriques
        </a>
        <div class="nav-dropdown">
            <a href="#" class="nav-link dropdown-toggle {% if 'exercise' in request.endpoint or 'grammar_gender' in request.endpoint %}active{% endif %}">
                ✏️ Exercices
            </a>
            <div class="dropdown-menu">
                <a href="{{ url_for('exercises') }}" class="dropdown-item {% if request.endpoint == 'exercises' %}active{% endif %}">
                    📝 Exercices généraux
                </a>
                <a href="{{ url_for('grammar_gender_exercises') }}" class="dropdown-item {% if 'grammar_gender' in request.endpoint %}active{% endif %}">
                    📚 Genre grammatical
                </a>
            </div>
        </div>
        <a href="{{ url_for('portfolio') }}" class="nav-link {% if request.endpoint == 'portfolio' %}active{% endif %}">
            📁 Portfolio & Travaux
        </a>
   
        <div class="nav-dropdown">
            <a href="#" class="nav-link dropdown-toggle">
                📚 Disciplines{% if session.discipline %} • {{ session.discipline.replace('_', ' ').title() }}{% endif %}
            </a>
            <div class="dropdown-menu">
                <a href="{{ url_for('set_discipline', discipline='mathematiques') }}" class="dropdown-item {% if session.discipline == 'mathematiques' %}active{% endif %}">
                    🔢 Mathématiques
                </a>
                <a href="{{ url_for('set_discipline', discipline='francais') }}" class="dropdown-item {% if session.discipline == 'francais' %}active{% endif %}">
                    📖 Français
                </a>
                <a href="{{ url_for('set_discipline', discipline='histoire') }}" class="dropdown-item {% if session.discipline == 'histoire' %}active{% endif %}">
                    🏛️ Histoire
                </a>
                <a href="{{ url_for('set_discipline', discipline='culture_citoyennete') }}" class="dropdown-item {% if session.discipline == 'culture_citoyennete' %}active{% endif %}">
                    🏳️ Culture et citoyenneté
                </a>
                <a href="{{ url_for('set_discipline', discipline='geographie') }}" class="dropdown-item {% if session.discipline == 'geographie' %}active{% endif %}">
                    🌍 Géographie
                </a>
            </div>
        </div>
    </div>
    <div class="nav-user">
        <span class="user-greeting">👋 {{ session.user or name or 'Utilisateur' }}</span>
        <a href="{{ url_for('logout') }}" class="logout-btn">Déconnexion</a>
    </div>
</nav>
{% endif %}
